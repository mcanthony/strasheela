<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
 <head>
  <title>LUtils</title>
  <style>BODY {
 background: url(page.gif) repeat-y white;
}
#slidemenubar, #slidemenubar2{
 position:absolute;
 left:-144px;
 width:160px;
 top:10px;
 border:0px solid black;
 font:bold 12px Verdana;
 line-height:10px;
}
.margin {
 position: absolute;
 left: 10px;
 width: 130px;
}
BODY, P, H1, H2, H3, A {
 font-family: sans-serif;
}
PRE, CODE {
 font-family: courier, monospace;
}
P {
 text-align: justify;
}
H1     { color: #9B0000; }
H2     { color: #FF9933; }
H3, H4 { color: #881155; }
CODE              { color: #663366; }
.code CODE        { color: #000000; }
SPAN.comment      { color: #B22222; }
SPAN.keyword      { color: #A020F0; }
SPAN.string       { color: #BC8F8F; }
SPAN.functionname { color: #0000FF; }
SPAN.type         { color: #228B22; }
SPAN.variablename { color: #B8860B; }
SPAN.reference    { color: #5F9EA0; }
SPAN.builtin      { color: #DA70D6; }
A:link {
 color: #666666;
}
A:visited {
 color: black;
}
A.pre { font-family: courier, monospace;
 color: #228B22;
}
</style>
 </head>
<body>
<script language="JavaScript1.2">
if (document.all)
document.write('<div id="slidemenubar2" style="left:-144" onMouseover="pull()" onMouseout="draw()">')
</script>
<layer id="slidemenubar" onMouseover="pull()" onMouseout="draw()">
<table border="0" cellpadding="0" cellspacing="0" width="161"><tr><td bgcolor="#009cff" width="144"><a href="index.html">Index</a>
</td><td rowspan="12" valign="top" width="16"><img src="menu.gif" width="16"></td></tr><tr><td bgcolor="#009cff" width="144"><a href="node1.html">Strasheela</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node2.html">Init</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node3.html">GUtils</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node4.html">LUtils</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node5.html">MUtils</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node6.html">Score</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node7.html">SMapping</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node8.html">SDistro</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node9.html">Out</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node10.html">Strasheela</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node11.html">Midi</a>
</td></tr></table></layer>
<script language="JavaScript1.2">
function regenerate(){
window.location.reload()
}
function regenerate2(){
if (document.layers)
setTimeout("window.onresize=regenerate",400)
}
window.onload=regenerate2
if (document.all){
document.write('</div>')
themenu=document.all.slidemenubar2.style
rightboundary=0
leftboundary=-144
}
else{
themenu=document.layers.slidemenubar
rightboundary=144
leftboundary=0
}
function pull(){
if (window.drawit)
clearInterval(drawit)
pullit=setInterval("pullengine()",20)
}
function draw(){
clearInterval(pullit)
drawit=setInterval("drawengine()",50)
}
function pullengine(){
if (document.all&&themenu.pixelLeft<rightboundary)
themenu.pixelLeft+=5
else if(document.layers&&themenu.left<rightboundary)
themenu.left+=5
else if (window.pullit)
clearInterval(pullit)
}
function drawengine(){
if (document.all&&themenu.pixelLeft>leftboundary)
themenu.pixelLeft-=5
else if(document.layers&&themenu.left>leftboundary)
themenu.left-=5
else if (window.drawit)
clearInterval(drawit)
}
</script>

<div style="margin-left:160px"><span class="string">

<table border="0" cellpadding="2" cellspacing="2"><tr bgcolor="#eeeecc">




</tr></table>
<span class="string"> This functor defines some general list utilities<BR>
<BR>
</span>
</span>
<h3>Functor</h3>
<ul>LUtils ("<span class="string">/Users/t/oz/music/Strasheela/strasheela/trunk/strasheela/source/ListUtils.oz</span>")<br></ul>
<h3>Import</h3>
<code><ul><li>System</li><li><a href="node3.html">GUtils</a> at "<span class="string">GeneralUtils.ozf"
</span></li></ul></code>
<h3>Export</h3>
<code><ul><li>&lt;P/3:<a href="#entity159"><span class="functionname">Mappend</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity160"><span class="functionname">CollectN</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity161"><span class="functionname">RepeatN</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity162"><span class="functionname">Contains</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity163"><span class="functionname">Position</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity164"><span class="functionname">Positions</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity165"><span class="functionname">FindPosition</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity166"><span class="functionname">FindPositions</span></a>&gt;
</li><li>&lt;P/2:<a href="#entity167"><span class="functionname">RemoveDuplicates</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity168"><span class="functionname">Remove</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity169"><span class="functionname">Find</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity170"><span class="functionname">CFilter</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity171"><span class="functionname">CFind</span></a>&gt;
</li><li>&lt;P/4:<a href="#entity172"><span class="functionname">Substitute</span></a>&gt;
</li><li>&lt;P/4:<a href="#entity173"><span class="functionname">Substitute1</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity174"><span class="functionname">Count</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity175"><span class="functionname">Accum</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity176"><span class="functionname">SubtractList</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity177"><span class="functionname">Split</span></a>&gt;
</li><li>&lt;P/4:<a href="#entity178"><span class="functionname">Sublist</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity179"><span class="functionname">Sublists</span></a>&gt;
</li><li>&lt;P/2:<a href="#entity180"><span class="functionname">MatTrans</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity181"><span class="functionname">NthWrapped</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity182"><span class="functionname">EveryNth</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity183"><span class="functionname">Replace</span></a>&gt;
</li><li>&lt;P/2:<a href="#entity184"><span class="functionname">ButLast</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity185"><span class="functionname">LastN</span></a>&gt;
</li><li>&lt;P/4:<a href="#entity186"><span class="functionname">ArithmeticSeries</span></a>&gt;
</li><li>&lt;P/4:<a href="#entity187"><span class="functionname">ReciprocalArithmeticSeries</span></a>&gt;
</li><li>&lt;C:<a href="#entity188"><span class="type">ExtendableList</span></a>&gt;
</li><li>&lt;P/2:<a href="#entity189"><span class="functionname">IsExtendableList</span></a>&gt;
</li></ul></code>
<h3>Define</h3>

<code>
<a name="entity159">
<span class="keyword">fun</span>{<span class="functionname">Mappend</span> Xs Fn}<br>
<span class="string"> Map function Fn (which must return a list) over all elements of list Xs and append all resulting lists. <BR>
<BR>
</span>
</code><br>

<code>
<a name="entity160">
<span class="keyword">fun</span>{<span class="functionname">CollectN</span> N Fn}<br>
<span class="string"> Return a list of N elements, each element is bound to the result of calling the unary procedure Fn.<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity161">
<span class="keyword">fun</span>{<span class="functionname">RepeatN</span> N X}<br>
<span class="string"> Return a list of N elements, each element is bound to the same X.<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity162">
<span class="keyword">fun</span>{<span class="functionname">Contains</span> X Ys}<br>
<span class="string"> Returns true if Ys contains X and false otherwise.<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity163">
<span class="keyword">fun</span>{<span class="functionname">Position</span> X Ys}<br>
<span class="string"> Returns position of the first occurence of X in list Ys. <BR>
<BR>
</span>
</code><br>

<code>
<a name="entity164">
<span class="keyword">fun</span>{<span class="functionname">Positions</span> X Ys}<br>
<span class="string"> Returns the positions of all occurences of X in list Ys. <BR>
<BR>
</span>
</code><br>

<code>
<a name="entity165">
<span class="keyword">fun</span>{<span class="functionname">FindPosition</span> Xs Fn}<br>
<span class="string"> Returns position of the first element in X for which Fn returns true. <BR>
<BR>
</span>
</code><br>

<code>
<a name="entity166">
<span class="keyword">fun</span>{<span class="functionname">FindPositions</span> Xs Fn}<br>
<span class="string"> Returns position of the first element in X for which Fn returns true. <BR>
<BR>
</span>
</code><br>

<code>
<a name="entity167">
<span class="keyword">fun</span>{<span class="functionname">RemoveDuplicates</span> Xs}<br>
<span class="string"> Removes any element in Xs (a list of arbitrary data) which occured already more early in X. Elements are compared with ==.<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity168">
<span class="keyword">fun</span>{<span class="functionname">Remove</span> Xs Fn}<br>
<span class="string"> Remove returns a list of the elements in Xs for which the application of the unary boolean function Fn yields false. In the output, the ordering in Xs is preserved. <BR>
<BR>
</span>
</code><br>

<code>
<a name="entity169">
<span class="keyword">fun</span>{<span class="functionname">Find</span> Xs Fn}<br>
<span class="string"> Find returns the first element in Xs for which the application of the unary boolean function Fn yields true. <BR>
<BR>
</span>
</code><br>

<code>
<a name="entity170">
<span class="keyword">proc</span>{<span class="functionname">CFilter</span> Xs F Result}<br>
<span class="string"> Concurrent variant of Filter. Like Filter, CFilter returns a stream/list of elements in Xs for which F (a Boolean function) returns true. However, CFilter does not necessarily completely block on free variables in Xs. Instead, it returns/skips elements of Xs as soon as enough information is provided to decided either way, possibly changing the order of list elements. If it is known that no elements will be added, then the stream Result will be closed.<BR>
 Less efficient than Filter (e.g., many threads are created).<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity171">
<span class="keyword">proc</span>{<span class="functionname">CFind</span> Xs F Result}<br>
<span class="string"> Concurrent variant of Find. Like Find, CFind returns one element in Xs for which F returns true. However, the Result is not necessarily the first 'matching' element in Xs. CFind returns a result as soon as enough information is available to decide for any element -- even if free variables are in Xs before that element.<BR>
 Less efficient than Find (e.g., many threads are created).<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity172">
<span class="keyword">fun</span>{<span class="functionname">Substitute</span> Xs Old New}<br>
<span class="string"> Replaces all occurances of Old in Xs by New. <BR>
<BR>
</span>
</code><br>

<code>
<a name="entity173">
<span class="keyword">fun</span>{<span class="functionname">Substitute1</span> Xs Old New}<br>
<span class="string"> Replaces the first occurance of Old in Xs by New. <BR>
<BR>
</span>
</code><br>

<code>
<a name="entity174">
<span class="keyword">fun</span>{<span class="functionname">Count</span> Xs Fn}<br>
<span class="string"> Returns the number of elements in Xs for which the unary boolean function Fn returns true.<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity175">
<span class="keyword">proc</span>{<span class="functionname">Accum</span> Xs Fn Y}<br>
<span class="string"> Binds the accumulation of the binary function Fn on all neighbors in Xs to Y. E.g., Accum returns the sum in Xs if Fn is Number.'+'.<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity176">
<span class="keyword">fun</span>{<span class="functionname">SubtractList</span> Xs Ys}<br>
<span class="string"> SubtractList returns a list which contains all elements of Xs except the (leftmost occurrences of) elements in Ys if they are in Xs. <BR>
<BR>
</span>
</code><br>

<code>
<a name="entity177">
<span class="keyword">fun</span>{<span class="functionname">Split</span> Xs Y}<br>
<span class="string"> Splits Xs at all occurences of Y. Split returns a list of sublists between (possibly multiple) Y and skips Y itself.<BR>
 NB: String.tokens does the same..<BR>
 NB: if last element of list is Y, then it is simply omitted.<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity178">
<span class="keyword">fun</span>{<span class="functionname">Sublist</span> Xs Start End}<br>
<span class="string"> Returns the sublist of Xs that consists in the Start-th to End-th elements (including). If End > {Length Xs}, sublist returns a sublist up to the last element of Xs.<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity179">
<span class="keyword">fun</span>{<span class="functionname">Sublists</span> Xs Decls}<br>
<span class="string"> Returns the list of sublists of Xs (a list) such that each sublist is declared by a range in Decls. Decls is a list consisting in integers and/or pairs of the form Start#End (two integers). <BR>
<BR>
</span>
</code><br>

<code>
<a name="entity180">
<span class="keyword">fun</span>{<span class="functionname">MatTrans</span> Xss}<br>
<span class="string"> Quasi a matrix transformations: transforms a list of form [[a1 a2 ... an] [b1 b2 ... bn] ... [n1 n2 ... nn]] into [[a1 b1 ... n1] [a2 b2 ... n2] ... [an bn ... nn]].<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity181">
<span class="keyword">fun</span>{<span class="functionname">NthWrapped</span> Xs N}<br>
<span class="string"> Returns element of Xs at index N. However, if N is outside the interval [1, {Length Xs}] NthWrapped 'wraps' N back into this interval. I.e. if N={Length Xs}+1 NthWrapped returns Xs.1<BR>
</span>
</code><br>

<code>
<a name="entity182">
<span class="keyword">fun</span>{<span class="functionname">EveryNth</span> Xs N}<br>
<span class="string"> Returns a list with every N-th element of Xs (by preserving the order).<BR>
 NB: causes infinite loop if N=0.<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity183">
<span class="keyword">fun</span>{<span class="functionname">Replace</span> Xs R}<br>
<span class="string"> Replaces all elements in Xs (a list of atoms) by the value in the record R at the feature equal to the list element. If R has no such feature the list element remains.<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity184">
<span class="keyword">fun</span>{<span class="functionname">ButLast</span> Xs}<br>
<span class="string"> Returns all but the last elements of Xs<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity185">
<span class="keyword">fun</span>{<span class="functionname">LastN</span> Xs N}<br>
<span class="string"> Returns the last N elements of Xs (quasi the opposite of List.take).<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity186">
<span class="keyword">fun</span>{<span class="functionname">ArithmeticSeries</span> Start Difference N}<br>
<span class="string"> Returns an arithmetic series with N elements, starting from start and with difference Difference between the elements.<BR>
 Start and Difference must be floats, N must be an integer. A list of floats is returned.<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity187">
<span class="keyword">fun</span>{<span class="functionname">ReciprocalArithmeticSeries</span> Start Difference N}<br>
<span class="string"> Returns the reciprocals of an arithmetic series with N elements. The arithmetic series starts from start and has difference Difference between its elements. Start and Difference must be floats, N must be an integer. A list of floats is returned.<BR>
 The  reciprocal series is not transposed, i.e. for Difference>0 seach series element is smaller than its predecessor and all but the first series elements are < Start.<BR>
<BR>
</span>
</code><br>

<a name="entity188">
<p class="margin"><div align="right"><a href="class1.html">[class info]</a></div></p>
<code>

<table border="0" cellpadding="2" cellspacing="2"><tr bgcolor="#eeeecc">




</tr></table>
<span class="string"> An ExtendableList instance provides the feature list, which is a list whose tail is unbound. The list is a stateless data structure. However, new list elements can be added at the tail of the list.<BR>
 This datastructure is similar to a Port. The difference is that (i) the tail is not protected (no read-only variable) and (ii) the resulting stream can be closed, thus transforming the stream into a proper list. <BR>
 NB: adding new list elements is a stateful operation (the binding of the internal attribute tail is changed), but the state is completely encapsulated in this data structure.<BR>
<BR>
</span>
<span class="keyword">class</span> <span class="type">ExtendableList</span>
<br>&nbsp;&nbsp;&nbsp;<span class="keyword">feat</span>&nbsp;list&nbsp;!ExtendableListType

<ul><li><span class="functionname">init</span>()<br>
</li><li><span class="functionname">add</span>(X)<br>
</li><li><span class="functionname">put</span>(X)<br>
</li><li><span class="functionname">addList</span>(L)<br>
</li><li><span class="functionname">close</span>()<br>
</li></ul>
<span class="keyword">end</span>
</code><br>

<code>
<a name="entity189">
<span class="keyword">fun</span>{<span class="functionname">IsExtendableList</span> X}<br>
<span class="string"> Returns a boolean whether X is an ExtendableList<BR>
<BR>
</span>
</code><br>
<h3>End</h3>
</div></body>
</html>