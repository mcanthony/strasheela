<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
 <head>
  <title>SDistro</title>
  <style>BODY {
 background: url(page.gif) repeat-y white;
}
#slidemenubar, #slidemenubar2{
 position:absolute;
 left:-144px;
 width:160px;
 top:10px;
 border:0px solid black;
 font:bold 12px Verdana;
 line-height:10px;
}
.margin {
 position: absolute;
 left: 10px;
 width: 130px;
}
BODY, P, H1, H2, H3, A {
 font-family: sans-serif;
}
PRE, CODE {
 font-family: courier, monospace;
}
P {
 text-align: justify;
}
H1     { color: #9B0000; }
H2     { color: #FF9933; }
H3, H4 { color: #881155; }
CODE              { color: #663366; }
.code CODE        { color: #000000; }
SPAN.comment      { color: #B22222; }
SPAN.keyword      { color: #A020F0; }
SPAN.string       { color: #BC8F8F; }
SPAN.functionname { color: #0000FF; }
SPAN.type         { color: #228B22; }
SPAN.variablename { color: #B8860B; }
SPAN.reference    { color: #5F9EA0; }
SPAN.builtin      { color: #DA70D6; }
A:link {
 color: #666666;
}
A:visited {
 color: black;
}
A.pre { font-family: courier, monospace;
 color: #228B22;
}
</style>
 </head>
<body>
<script language="JavaScript1.2">
if (document.all)
document.write('<div id="slidemenubar2" style="left:-144" onMouseover="pull()" onMouseout="draw()">')
</script>
<layer id="slidemenubar" onMouseover="pull()" onMouseout="draw()">
<table border="0" cellpadding="0" cellspacing="0" width="161"><tr><td bgcolor="#009cff" width="144"><a href="index.html">Index</a>
</td><td rowspan="12" valign="top" width="16"><img src="menu.gif" width="16"></td></tr><tr><td bgcolor="#009cff" width="144"><a href="node1.html">Strasheela</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node2.html">Init</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node3.html">GUtils</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node4.html">LUtils</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node5.html">MUtils</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node6.html">Score</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node7.html">SMapping</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node8.html">SDistro</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node9.html">Out</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node10.html">Strasheela</a>
</td></tr><tr><td bgcolor="#009cff" width="144"><a href="node11.html">Midi</a>
</td></tr></table></layer>
<script language="JavaScript1.2">
function regenerate(){
window.location.reload()
}
function regenerate2(){
if (document.layers)
setTimeout("window.onresize=regenerate",400)
}
window.onload=regenerate2
if (document.all){
document.write('</div>')
themenu=document.all.slidemenubar2.style
rightboundary=0
leftboundary=-144
}
else{
themenu=document.layers.slidemenubar
rightboundary=144
leftboundary=0
}
function pull(){
if (window.drawit)
clearInterval(drawit)
pullit=setInterval("pullengine()",20)
}
function draw(){
clearInterval(pullit)
drawit=setInterval("drawengine()",50)
}
function pullengine(){
if (document.all&&themenu.pixelLeft<rightboundary)
themenu.pixelLeft+=5
else if(document.layers&&themenu.left<rightboundary)
themenu.left+=5
else if (window.pullit)
clearInterval(pullit)
}
function drawengine(){
if (document.all&&themenu.pixelLeft>leftboundary)
themenu.pixelLeft-=5
else if(document.layers&&themenu.left>leftboundary)
themenu.left-=5
else if (window.drawit)
clearInterval(drawit)
}
</script>

<div style="margin-left:160px"><span class="string">

<table border="0" cellpadding="2" cellspacing="2"><tr bgcolor="#eeeecc">




</tr></table>
<span class="string"> The functor defines means to generate distribution strategies particularily tailored for a score search.<BR>
<BR>
</span>
</span>
<h3>Functor</h3>
<ul>SDistro ("<span class="string">/Users/t/oz/music/Strasheela/strasheela/source/ScoreDistribution.oz</span>")<br></ul>
<h3>Import</h3>
<code><ul><li>FD</li><li>Search</li><li>Explorer</li><li><a href="node3.html">GUtils</a> at "<span class="string">GeneralUtils.ozf"
</span></li><li><a href="node4.html">LUtils</a> at "<span class="string">ListUtils.ozf"
</span></li></ul></code>
<h3>Export</h3>
<code><ul><li>&lt;P/2:<a href="#entity312"><span class="functionname">MakeFDDistribution</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity313"><span class="functionname">MakeSearchScript</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity314"><span class="functionname">SearchOne</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity315"><span class="functionname">SearchAll</span></a>&gt;
</li><li>&lt;P/4:<a href="#entity316"><span class="functionname">SearchBest</span></a>&gt;
</li><li>&lt;P/2:<a href="#entity317"><span class="functionname">ExploreOne</span></a>&gt;
</li><li>&lt;P/2:<a href="#entity318"><span class="functionname">ExploreAll</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity319"><span class="functionname">ExploreBest</span></a>&gt;
</li><li>&lt;P/2:<a href="#entity320"><span class="functionname">MakeRandomDistributionValue</span></a>&gt;
</li><li>&lt;P/3:<a href="#entity322"><span class="functionname">MakeSetPreferredOrder</span></a>&gt;
</li><li>&lt;P/2:<a href="#entity321"><span class="functionname">MakeSetPreferredOrder2</span></a>&gt;
</li></ul></code>
<h3>Define</h3>

<code>
<a name="entity312">
<span class="keyword">fun</span>{<span class="functionname">MakeFDDistribution</span> Spec}<br>
<span class="string"> Function returns a specification of a distribution strategy (i.e. an argument for FD.distribute) for parameter score objects. The reader is asked to first read the documentation for FD.distribute.<BR>
<BR>
 The result of MakeFDDistribution is a record with the functions specifying a FD distribution strategy (i.e. a record with the features filter, order, etc.). The specified distribution strategies differ slightly from the default distribution strategies of FD.distribute: the functions at the features filter, order and select handle parameter score objects. <BR>
<BR>
 The user can access some predefined distribution strategies by giving an atom to the argument Spec: <BR>
 <BR>
 <code>ff</code>: Specifies a first fail distribution for score parameters, i.e. parameters with smallest domain size are determined first.<BR>
 <code>firstTimingFF</code>: Timing parameters are determined first. Parameters with smaller value domain size are preferred.<BR>
 <code>startTime</code>: Parameters are determined in the order of the stratTime of the item the parameter belong to. Parameters with smaller value domain size are preferred. <BR>
<BR>
 The user may specify new score distribution strategies by specifying a subset of the functions at the features filter, order, select, value, and procedure to the argument Spec of MakeFDDistribution. However, some functions are already predefined for each feature and can be specified by an atom.<BR>
<BR>
 filter: undet<BR>
 order: size timeParams timeParamsAndSize startTime<BR>
 select: value<BR>
 value: min random<BR>
 <!! unfinished doc -- see code><BR>
<BR>
 Features missing in Spec are taken form the default specification, which is a first fail distribution strategy for parameter score objects.<BR>
 <!! add defaults> <BR>
<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity313">
<span class="keyword">fun</span>{<span class="functionname">MakeSearchScript</span> ScoreScript Args}<br>
<span class="string"> Returns a search script (a unary procedure) whose solution is a score.  ScoreScript is a unary proc expressing whole search problem involving a score as its solution, however without specifying any distribution strategy. Args is a record specifying the score distribution strategy with the usual features for a distribution strategy (filter, order, select, value, and procedure) and the additional feature test. The distribution strategy features have the same meaning and usage as in MakeFDDistribution. The feature test expects a unary boolean function: all score parameters fulfilling the test are distributed. Test defaults to the following (NB: for this case, the offsetTime of temporal items must be determined).<BR>
   fun {Test X}<BR>
      {Not {X isTimePoint($)}} andthen<BR>
      {Not {{X getItem($)} isContainer($)}}<BR>
   end<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity314">
<span class="keyword">fun</span>{<span class="functionname">SearchOne</span> ScoreScript Args}<br>
<span class="string"> Calls Search.base.one with a script created by MakeSearchScript. The meaning of the arguments ScoreScript and Args are the same as for MakeSearchScript.<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity315">
<span class="keyword">fun</span>{<span class="functionname">SearchAll</span> ScoreScript Args}<br>
<span class="string"> Calls Search.base.all with a script created by MakeSearchScript. The meaning of the arguments ScoreScript and Args are the same as for MakeSearchScript.<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity316">
<span class="keyword">fun</span>{<span class="functionname">SearchBest</span> ScoreScript OrderP Args}<br>
<span class="string"> Calls Search.base.best with a script created by MakeSearchScript. The meaning of the arguments ScoreScript and Args are the same as for MakeSearchScript. Best solution is performed with respect to OrderP (a binary procedure). <BR>
<BR>
</span>
</code><br>

<code>
<a name="entity317">
<span class="keyword">proc</span>{<span class="functionname">ExploreOne</span> ScoreScript Args}<br>
<span class="string"> Calls Explorer.one with a script created by MakeSearchScript. The meaning of the arguments are the same as for MakeSearchScript.<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity318">
<span class="keyword">proc</span>{<span class="functionname">ExploreAll</span> ScoreScript Args}<br>
<span class="string"> Calls Explorer.all with a script created by MakeSearchScript. The meaning of the arguments are the same as for MakeSearchScript.<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity319">
<span class="keyword">proc</span>{<span class="functionname">ExploreBest</span> ScoreScript OrderP Args}<br>
<span class="string"> Calls Explorer.best with a script created by MakeSearchScript. The meaning of the arguments ScoreScript and Args are the same as for MakeSearchScript. Best solution is performed with respect to OrderP (a binary procedure). <BR>
<BR>
</span>
</code><br>

<code>
<a name="entity320">
<span class="keyword">fun</span>{<span class="functionname">MakeRandomDistributionValue</span> RandGen}<br>
<span class="string"> Defines a means for a 'random distribution', i.e., for a FD distribution strategy which randomly decides for a domain value of a variable in a deterministic (i.e. recomputable) way. <BR>
 MakeRandomDistributionValue returns a binary procedure for the argument 'value' of FD.distribute. The argument RandGen is a nullary function generated by GUtils.makeRandomGenerator.<BR>
<BR>
</span>
</code><br>

<code>
<a name="entity322">
<span class="keyword">fun</span>{<span class="functionname">MakeSetPreferredOrder</span> Tests IfEqual}<br>
<span class="string"> Returns a score distribution strategy 'order' procedure. Tests is a list of unary boolean funcs which expect a parameter. The distribution 'prefers' parameters for which a test with smaller index in Tests returns true. IfEqual is a binary boolean function which 'decides' in case for two parameters with equal 'test index'.<BR>
 More general Variation of MakeSetPreferredOrder2. Which strategy variant is more efficient depends on the problem.. <BR>
<BR>
</span>
</code><br>

<code>
<a name="entity321">
<span class="keyword">fun</span>{<span class="functionname">MakeSetPreferredOrder2</span> Tests}<br>
<span class="string"> Returns a score distribution strategy 'order' procedure. Tests is a list of unary boolean funcs which expect a parameter. The distribution 'prefers' parameters for which a test with smaller index in Tests returns true. In case of two parameters with equal 'test index' the strategy decides for the first param.<BR>
<BR>
</span>
</code><br>
<h3>End</h3>
</div></body>
</html>